{"version":3,"file":"../pages/tour.js","mappings":"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","sources":["webpack://front/./src/pages/tour.tsx","webpack://front/external \"@ant-design/icons\"","webpack://front/external \"antd\"","webpack://front/external \"axios\"","webpack://front/external \"immer\"","webpack://front/external \"next-redux-saga\"","webpack://front/external \"next-redux-wrapper\"","webpack://front/external \"next/dist/server/denormalize-page-path.js\"","webpack://front/external \"next/dist/server/image-config.js\"","webpack://front/external \"next/dist/shared/lib/head.js\"","webpack://front/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://front/external \"next/dist/shared/lib/mitt.js\"","webpack://front/external \"next/dist/shared/lib/router-context.js\"","webpack://front/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://front/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://front/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://front/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://front/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://front/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://front/external \"next/dist/shared/lib/to-base-64.js\"","webpack://front/external \"next/dist/shared/lib/utils.js\"","webpack://front/external \"next/head\"","webpack://front/external \"next/router\"","webpack://front/external \"react\"","webpack://front/external \"react-redux\"","webpack://front/external \"react/jsx-runtime\"","webpack://front/external \"redux\"","webpack://front/external \"redux-devtools-extension\"","webpack://front/external \"redux-saga\"","webpack://front/external \"redux-saga/effects\"","webpack://front/external \"styled-components\"","webpack://front/external \"styled-reset\"","webpack://front/external \"typesafe-actions\""],"sourcesContent":["import axios from 'axios';\r\nimport { useRouter } from 'next/router';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { END } from 'redux-saga';\r\nimport {\r\n  Li,\r\n  PaginationCustom,\r\n  Select,\r\n  Title,\r\n  TitleWrapper,\r\n  Ul,\r\n  Wrapper,\r\n} from '../../styles/common';\r\nimport KategorySkeleton from '../components/KategorySkeleton';\r\nimport Layout from '../components/Layout';\r\nimport SortBox from '../components/SortBox';\r\nimport TourList from '../components/TourList';\r\nimport { RootState } from '../modules';\r\nimport { regionAsync } from '../modules/detail';\r\nimport { loadUserAsync } from '../modules/user';\r\nimport { SagaStore, wrapper } from './_app';\r\n\r\nconst areaArray = [\r\n  ['전체', undefined],\r\n  ['서울', 1],\r\n  ['인천', 2],\r\n  ['대전', 3],\r\n  ['대구', 4],\r\n  ['광주', 5],\r\n  ['부산', 6],\r\n  ['울산', 7],\r\n  ['세종', 8],\r\n  ['경기', 31],\r\n  ['강원', 32],\r\n  ['충북', 33],\r\n  ['충남', 34],\r\n  ['경북', 35],\r\n  ['경남', 36],\r\n  ['전북', 37],\r\n  ['전남', 38],\r\n  ['제주', 39],\r\n];\r\n\r\nconst Tour: React.FC = () => {\r\n  const router = useRouter();\r\n  const { title, contentTypeId } = router.query;\r\n  const [areaCode, setAreaCode] = useState<number | undefined>(undefined);\r\n  const [pageNo, setPageNo] = useState<number>(1);\r\n  const [arrange, setArrange] = useState<'P' | 'Q'>('P');\r\n\r\n  const { data, loading } = useSelector(\r\n    (state: RootState) => state.detail.regionResult\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setAreaCode(undefined);\r\n    setPageNo(1);\r\n  }, [title]);\r\n\r\n  useEffect(() => {\r\n    setPageNo(1);\r\n  }, [areaCode]);\r\n\r\n  useEffect(() => {\r\n    if (!contentTypeId) {\r\n      return;\r\n    }\r\n\r\n    dispatch(\r\n      regionAsync.request({\r\n        arrange: arrange,\r\n        areaCode: areaCode,\r\n        contentTypeId: Number(contentTypeId),\r\n        pageNo: pageNo,\r\n      })\r\n    );\r\n  }, [areaCode, pageNo, arrange, contentTypeId, dispatch]);\r\n\r\n  const onChange = useCallback((page) => {\r\n    setPageNo(page);\r\n  }, []);\r\n  const changeAreaCode = useCallback(\r\n    (code) => () => {\r\n      setAreaCode(code);\r\n    },\r\n    []\r\n  );\r\n\r\n  const sortHot = useCallback(() => {\r\n    setArrange('P');\r\n  }, []);\r\n  const sortRecent = useCallback(() => {\r\n    setArrange('Q');\r\n  }, []);\r\n  return (\r\n    <Layout>\r\n      <Wrapper>\r\n        <TitleWrapper>\r\n          <Title>{title}</Title>\r\n        </TitleWrapper>\r\n\r\n        <Select>\r\n          <Ul>\r\n            {areaArray.map((item) => (\r\n              <Li\r\n                className={item[1] === areaCode ? 'active' : ''}\r\n                onClick={changeAreaCode(item[1])}\r\n                key={item[0]}\r\n              >\r\n                {item[0]}\r\n              </Li>\r\n            ))}\r\n          </Ul>\r\n        </Select>\r\n\r\n        <SortBox arrange={arrange} sortHot={sortHot} sortRecent={sortRecent} />\r\n        <div>\r\n          {loading ? <KategorySkeleton /> : <TourList list={data.items.item} />}\r\n          <PaginationCustom\r\n            total={data.totalCount}\r\n            showSizeChanger={false}\r\n            onChange={onChange}\r\n            defaultPageSize={12}\r\n            current={pageNo}\r\n          />\r\n        </div>\r\n      </Wrapper>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(\r\n  (store) =>\r\n    async ({ req, query }) => {\r\n      const cookie = req ? req.headers.cookie : '';\r\n\r\n      if (axios.defaults.headers) {\r\n        req && cookie\r\n          ? (axios.defaults.headers.Cookie = cookie)\r\n          : (axios.defaults.headers.Cookie = '');\r\n      }\r\n\r\n      store.dispatch(loadUserAsync.request());\r\n      store.dispatch(\r\n        regionAsync.request({\r\n          contentTypeId: Number(query.contentTypeId),\r\n          arrange: 'P',\r\n          pageNo: 1,\r\n        })\r\n      );\r\n\r\n      store.dispatch(END);\r\n\r\n      await (store as SagaStore).sagaTask.toPromise();\r\n      return { props: {} };\r\n    }\r\n);\r\n\r\nexport default Tour;\r\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"immer\");","module.exports = require(\"next-redux-saga\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/server/image-config.js\");","module.exports = require(\"next/dist/shared/lib/head.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/to-base-64.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"styled-components\");","module.exports = require(\"styled-reset\");","module.exports = require(\"typesafe-actions\");"],"names":["axios","useRouter","React","useCallback","useEffect","useState","useDispatch","useSelector","END","Li","PaginationCustom","Select","Title","TitleWrapper","Ul","Wrapper","KategorySkeleton","Layout","SortBox","TourList","regionAsync","loadUserAsync","wrapper","areaArray","undefined","Tour","router","title","contentTypeId","query","areaCode","setAreaCode","pageNo","setPageNo","arrange","setArrange","data","loading","state","detail","regionResult","dispatch","request","Number","onChange","page","changeAreaCode","code","sortHot","sortRecent","map","item","items","totalCount","getServerSideProps","store","req","cookie","headers","defaults","Cookie","sagaTask","toPromise","props"],"sourceRoot":""}